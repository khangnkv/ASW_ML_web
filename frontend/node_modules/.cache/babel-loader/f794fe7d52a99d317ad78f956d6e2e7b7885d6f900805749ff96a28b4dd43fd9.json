{"ast":null,"code":"import _objectSpread from\"C:/Users/Khang Vinh Khac/Documents/web_dev/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo,useCallback}from'react';import{Container,Row,Col,Card,Button,Alert,Spinner,Badge}from'react-bootstrap';import{useDropzone}from'react-dropzone';import axios from'axios';import{saveAs}from'file-saver';import{FiUpload,FiDownload,FiDatabase,FiSun,FiMoon,FiClock,FiInfo}from'react-icons/fi';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';// Import new components\nimport ProjectFilters from'./components/ProjectFilters';import DataStats from'./components/DataStats';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _predictions$stats$ro,_predictions$stats,_predictions$stats$pr,_predictions$stats2;const[fileData,setFileData]=useState(null);const[predictions,setPredictions]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[darkMode,setDarkMode]=useState(()=>{// Persist mode in localStorage\nreturn localStorage.getItem('darkMode')==='true';});const[showPreview,setShowPreview]=useState(true);const[fileInfo,setFileInfo]=useState(null);const[storageStats,setStorageStats]=useState(null);// Project filtering state\nconst[selectedProject,setSelectedProject]=useState(null);const[availableProjects,setAvailableProjects]=useState([]);const[fullDataset,setFullDataset]=useState(null);const[filteredData,setFilteredData]=useState(null);const[filterLoading,setFilterLoading]=useState(false);useEffect(()=>{// Fetch available models on component mount\nfetchAvailableModels();fetchStorageStats();},[]);useEffect(()=>{document.body.classList.toggle('dark-mode',darkMode);document.body.classList.toggle('light-mode',!darkMode);localStorage.setItem('darkMode',darkMode);},[darkMode]);const fetchAvailableModels=async()=>{try{const response=await axios.get('/api/models');// We'll use this data later if needed\nconsole.log('Available models:',response.data.available_models);}catch(error){console.error('Error fetching models:',error);}};const fetchStorageStats=async()=>{try{const response=await axios.get('/api/storage/stats');setStorageStats(response.data);}catch(error){console.error('Error fetching storage stats:',error);}};// Extract unique projects from data\nconst extractProjects=useCallback(data=>{if(!data||data.length===0)return[];const projects=new Set();data.forEach(row=>{if(row.projectid){projects.add(row.projectid.toString());}});return Array.from(projects);},[]);// Filter data by project\nconst filterDataByProject=useCallback((data,projectId)=>{if(!data||!projectId)return data;setFilterLoading(true);// Use setTimeout to prevent UI blocking for large datasets\nsetTimeout(()=>{const filtered=data.filter(row=>row.projectid&&row.projectid.toString()===projectId.toString());setFilteredData(filtered);setFilterLoading(false);},0);},[]);// Handle project selection\nconst handleProjectFilter=useCallback(projectId=>{setSelectedProject(projectId);if(projectId){filterDataByProject(fullDataset,projectId);}else{setFilteredData(fullDataset);}},[fullDataset,filterDataByProject]);// Handle filter reset\nconst handleFilterReset=useCallback(()=>{setSelectedProject(null);setFilteredData(fullDataset);},[fullDataset]);// Memoized current data (either filtered or full dataset)\nconst currentData=useMemo(()=>{return selectedProject?filteredData:fullDataset;},[selectedProject,filteredData,fullDataset]);// Always show only the first and last 5 rows of the currently filtered data\nconst previewRows=useMemo(()=>{if(!currentData||currentData.length===0)return[];if(currentData.length<=10){return currentData;}const first5=currentData.slice(0,5);const last5=currentData.slice(-5);return[...first5,...last5];},[currentData]);const onDrop=async acceptedFiles=>{if(acceptedFiles.length===0)return;const file=acceptedFiles[0];setLoading(true);setError(null);const formData=new FormData();formData.append('file',file);try{const response=await axios.post('/api/upload_uuid',formData,{headers:{'Content-Type':'multipart/form-data'}});// Cache the full dataset for filtering (all rows)\nsetFullDataset(response.data.full_dataset);setFilteredData(response.data.full_dataset);// Extract available projects from the full dataset\nconst projects=extractProjects(response.data.full_dataset);setAvailableProjects(projects);setFileData({filename:response.data.filename,preview:response.data.preview,// Keep preview for display\noriginalName:file.name});setFileInfo(response.data.file_info);setShowPreview(true);// Reset filter state\nsetSelectedProject(null);console.log('Uploaded fileData:',{filename:response.data.filename,previewRows:response.data.preview.length,fullDatasetRows:response.data.full_dataset.length,originalName:file.name,fileInfo:response.data.file_info,availableProjects:projects});}catch(error){var _error$response,_error$response$data;setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Error uploading file');}finally{setLoading(false);}};const{getRootProps,getInputProps,isDragActive}=useDropzone({onDrop,accept:{'text/csv':['.csv'],'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':['.xlsx'],'application/vnd.ms-excel':['.xls']},multiple:false});const generatePredictions=async()=>{if(!fileData)return;setLoading(true);setError(null);try{const response=await axios.post('/api/predict_workflow',{filename:fileData.filename});// Cache the full prediction dataset for filtering (all rows)\nconst fullPredictionData=response.data.full_dataset;setFullDataset(fullPredictionData);setFilteredData(fullPredictionData);// Re-extract projects from prediction data (in case preprocessing changed project IDs)\nconst projects=extractProjects(fullPredictionData);setAvailableProjects(projects);setPredictions(response.data);setShowPreview(false);// Hide preview after prediction\n// Reset filter state for prediction results\nsetSelectedProject(null);}catch(error){var _error$response2,_error$response2$data;setError(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Error generating predictions');}finally{setLoading(false);}};const exportResults=async format=>{if(!predictions)return;try{if(format==='json'){const response=await axios.get(\"/api/export/\".concat(format,\"/\").concat(predictions.results_filename));const blob=new Blob([JSON.stringify(response.data,null,2)],{type:'application/json'});saveAs(blob,\"predictions_\".concat(fileData.filename.split('.')[0],\".json\"));}else{const response=await axios.get(\"/api/export/\".concat(format,\"/\").concat(predictions.results_filename),{responseType:'blob'});const extension=format==='csv'?'csv':'xlsx';saveAs(response.data,\"predictions_\".concat(fileData.filename.split('.')[0],\".\").concat(extension));}}catch(error){setError('Error exporting results');}};const cleanup=async()=>{setFileData(null);setPredictions(null);setFileInfo(null);setError(null);setShowPreview(true);// Reset filter state\nsetSelectedProject(null);setAvailableProjects([]);setFullDataset(null);setFilteredData(null);setFilterLoading(false);};const renderPreviewTable=(data,title)=>{if(!data||data.length===0)return null;let columns=Object.keys(data[0]);if(columns.includes('has_booked_prediction')){columns=columns.filter(c=>c!=='has_booked_prediction').concat(['has_booked_prediction']);}return/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[title,filterLoading&&/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"sm\",className:\"ms-2\"})]})}),/*#__PURE__*/_jsx(Card.Body,{className:\"p-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-hover mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-primary\",children:/*#__PURE__*/_jsx(\"tr\",{children:columns.map(column=>/*#__PURE__*/_jsx(\"th\",{children:column},column))})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((row,index)=>/*#__PURE__*/_jsx(\"tr\",{children:columns.map(column=>{var _row$column;return/*#__PURE__*/_jsx(\"td\",{children:typeof row[column]==='boolean'?row[column]?'Yes':'No':((_row$column=row[column])===null||_row$column===void 0?void 0:_row$column.toString())||''},column);})},index))})]})})})]});};const renderFileRetentionInfo=()=>{if(!fileInfo)return null;const uploadDate=new Date(fileInfo.upload_timestamp);const deletionDate=new Date(fileInfo.deletion_date);const daysLeft=Math.ceil((deletionDate-new Date())/(1000*60*60*24));return/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(FiClock,{className:\"me-2\"}),\"File Retention Information\"]})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Upload Time:\"}),\" \",uploadDate.toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Deletion Date:\"}),\" \",deletionDate.toLocaleString()]})]}),/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Days Remaining:\"}),/*#__PURE__*/_jsxs(Badge,{bg:daysLeft>30?'success':daysLeft>7?'warning':'danger',className:\"ms-2\",children:[daysLeft,\" days\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),/*#__PURE__*/_jsx(Badge,{bg:\"info\",className:\"ms-2\",children:fileInfo.status})]})]})]})})]});};const renderStorageStats=()=>{if(!storageStats)return null;return/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(FiInfo,{className:\"me-2\"}),\"Storage Statistics\"]})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stats-number text-primary\",children:storageStats.total_files}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:\"Total Files\"})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats-number text-info\",children:[storageStats.total_size_mb,\" MB\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:\"Total Size\"})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stats-number text-success\",children:storageStats.retention_days}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:\"Retention Days\"})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",size:\"sm\",onClick:fetchStorageStats,children:[/*#__PURE__*/_jsx(FiInfo,{className:\"me-1\"}),\"Refresh\"]})})})]})})]});};return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"upload-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"theme-toggle\",onClick:()=>setDarkMode(dm=>!dm),title:darkMode?'Switch to Light Mode':'Switch to Dark Mode',children:darkMode?/*#__PURE__*/_jsx(FiMoon,{}):/*#__PURE__*/_jsx(FiSun,{})}),/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsxs(Col,{lg:10,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4 text-primary\",children:\"ML Prediction System\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead text-muted\",children:\"Upload your CSV or Excel files to get predictions using our pre-trained models\"})]}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",dismissible:true,onClose:()=>setError(null),children:error}),!fileData&&/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getRootProps()),{},{className:\"upload-area \".concat(isDragActive?'dragover':''),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),/*#__PURE__*/_jsx(FiUpload,{size:48,className:\"text-primary mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Drop your file here, or click to select\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Supports CSV and Excel files (max 100,000 rows) - Files are automatically converted to CSV for faster processing\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted small\",children:\"File must contain a \\\"projectid\\\" column\"})]}))})}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",className:\"mb-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"Processing your file...\"})]})}),fileData&&!loading&&showPreview&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"File Information\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Filename:\"}),\" \",fileData.originalName||fileData.filename]})}),/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:generatePredictions,disabled:loading||!fileData,className:\"me-2\",children:[/*#__PURE__*/_jsx(FiDatabase,{className:\"me-2\"}),\"Generate Predictions\"]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",onClick:cleanup,children:\"Upload New File\"})]})]})})]}),/*#__PURE__*/_jsx(ProjectFilters,{projects:availableProjects,selectedProject:selectedProject,onSelect:handleProjectFilter,onReset:handleFilterReset,disabled:loading,className:\"mb-4\"}),/*#__PURE__*/_jsx(DataStats,{data:currentData,title:selectedProject?\"Project \".concat(selectedProject,\" Statistics\"):\"Full Dataset Statistics\",className:\"mb-4\"}),!previewRows||previewRows.length===0?/*#__PURE__*/_jsx(Alert,{variant:\"warning\",children:\"No preview data available for this file.\"}):renderPreviewTable(previewRows,\"Data Preview \".concat(selectedProject?\"(Project \".concat(selectedProject,\")\"):'(All Projects)'))]}),predictions&&!loading&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Prediction Results\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Rows Processed:\"}),\" \",(_predictions$stats$ro=(_predictions$stats=predictions.stats)===null||_predictions$stats===void 0?void 0:_predictions$stats.rows_processed)!==null&&_predictions$stats$ro!==void 0?_predictions$stats$ro:'-']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Prediction Distribution:\"}),\" \",JSON.stringify((_predictions$stats$pr=(_predictions$stats2=predictions.stats)===null||_predictions$stats2===void 0?void 0:_predictions$stats2.prediction_distribution)!==null&&_predictions$stats$pr!==void 0?_predictions$stats$pr:{})]})]})})})]}),/*#__PURE__*/_jsx(ProjectFilters,{projects:availableProjects,selectedProject:selectedProject,onSelect:handleProjectFilter,onReset:handleFilterReset,disabled:loading,className:\"mb-4\"}),/*#__PURE__*/_jsx(DataStats,{data:currentData,title:selectedProject?\"Project \".concat(selectedProject,\" Prediction Statistics\"):\"Full Prediction Statistics\",className:\"mb-4\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Final Prediction Preview\"}),renderPreviewTable(previewRows,\"Prediction Results \".concat(selectedProject?\"(Project \".concat(selectedProject,\")\"):'(All Projects)')),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(FiDownload,{className:\"me-2\"}),\"Export Results\"]})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",onClick:()=>exportResults('csv'),className:\"btn-export\",children:\"Export as CSV\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-success\",onClick:()=>exportResults('xlsx'),className:\"btn-export\",children:\"Export as Excel\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-info\",onClick:()=>exportResults('json'),className:\"btn-export\",children:\"Export as JSON\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginTop:'2rem',marginBottom:'1rem'},children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",size:\"lg\",onClick:cleanup,style:{minWidth:220,fontWeight:600},children:\"Upload New File\"})})]}),fileInfo&&/*#__PURE__*/_jsxs(_Fragment,{children:[renderFileRetentionInfo(),renderStorageStats()]})]})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","Container","Row","Col","Card","Button","Alert","Spinner","Badge","useDropzone","axios","saveAs","FiUpload","FiDownload","FiDatabase","FiSun","FiMoon","FiClock","FiInfo","ProjectFilters","DataStats","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_predictions$stats$ro","_predictions$stats","_predictions$stats$pr","_predictions$stats2","fileData","setFileData","predictions","setPredictions","loading","setLoading","error","setError","darkMode","setDarkMode","localStorage","getItem","showPreview","setShowPreview","fileInfo","setFileInfo","storageStats","setStorageStats","selectedProject","setSelectedProject","availableProjects","setAvailableProjects","fullDataset","setFullDataset","filteredData","setFilteredData","filterLoading","setFilterLoading","fetchAvailableModels","fetchStorageStats","document","body","classList","toggle","setItem","response","get","console","log","data","available_models","extractProjects","length","projects","Set","forEach","row","projectid","add","toString","Array","from","filterDataByProject","projectId","setTimeout","filtered","filter","handleProjectFilter","handleFilterReset","currentData","previewRows","first5","slice","last5","onDrop","acceptedFiles","file","formData","FormData","append","post","headers","full_dataset","filename","preview","originalName","name","file_info","fullDatasetRows","_error$response","_error$response$data","getRootProps","getInputProps","isDragActive","accept","multiple","generatePredictions","fullPredictionData","_error$response2","_error$response2$data","exportResults","format","concat","results_filename","blob","Blob","JSON","stringify","type","split","responseType","extension","cleanup","renderPreviewTable","title","columns","Object","keys","includes","c","className","children","Header","animation","size","Body","map","column","index","_row$column","renderFileRetentionInfo","uploadDate","Date","upload_timestamp","deletionDate","deletion_date","daysLeft","Math","ceil","md","toLocaleString","bg","status","renderStorageStats","total_files","total_size_mb","retention_days","variant","onClick","fluid","dm","lg","dismissible","onClose","_objectSpread","role","disabled","onSelect","onReset","stats","rows_processed","prediction_distribution","style","display","justifyContent","marginTop","marginBottom","minWidth","fontWeight"],"sources":["C:/Users/Khang Vinh Khac/Documents/web_dev/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { Container, Row, Col, Card, Button, Alert, Spinner, Badge } from 'react-bootstrap';\nimport { useDropzone } from 'react-dropzone';\nimport axios from 'axios';\nimport { saveAs } from 'file-saver';\nimport { FiUpload, FiDownload, FiDatabase, FiSun, FiMoon, FiClock, FiInfo } from 'react-icons/fi';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\n// Import new components\nimport ProjectFilters from './components/ProjectFilters';\nimport DataStats from './components/DataStats';\n\nfunction App() {\n  const [fileData, setFileData] = useState(null);\n  const [predictions, setPredictions] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [darkMode, setDarkMode] = useState(() => {\n    // Persist mode in localStorage\n    return localStorage.getItem('darkMode') === 'true';\n  });\n  const [showPreview, setShowPreview] = useState(true);\n  const [fileInfo, setFileInfo] = useState(null);\n  const [storageStats, setStorageStats] = useState(null);\n  \n  // Project filtering state\n  const [selectedProject, setSelectedProject] = useState(null);\n  const [availableProjects, setAvailableProjects] = useState([]);\n  const [fullDataset, setFullDataset] = useState(null);\n  const [filteredData, setFilteredData] = useState(null);\n  const [filterLoading, setFilterLoading] = useState(false);\n\n  useEffect(() => {\n    // Fetch available models on component mount\n    fetchAvailableModels();\n    fetchStorageStats();\n  }, []);\n\n  useEffect(() => {\n    document.body.classList.toggle('dark-mode', darkMode);\n    document.body.classList.toggle('light-mode', !darkMode);\n    localStorage.setItem('darkMode', darkMode);\n  }, [darkMode]);\n\n  const fetchAvailableModels = async () => {\n    try {\n      const response = await axios.get('/api/models');\n      // We'll use this data later if needed\n      console.log('Available models:', response.data.available_models);\n    } catch (error) {\n      console.error('Error fetching models:', error);\n    }\n  };\n\n  const fetchStorageStats = async () => {\n    try {\n      const response = await axios.get('/api/storage/stats');\n      setStorageStats(response.data);\n    } catch (error) {\n      console.error('Error fetching storage stats:', error);\n    }\n  };\n\n  // Extract unique projects from data\n  const extractProjects = useCallback((data) => {\n    if (!data || data.length === 0) return [];\n    \n    const projects = new Set();\n    data.forEach(row => {\n      if (row.projectid) {\n        projects.add(row.projectid.toString());\n      }\n    });\n    \n    return Array.from(projects);\n  }, []);\n\n  // Filter data by project\n  const filterDataByProject = useCallback((data, projectId) => {\n    if (!data || !projectId) return data;\n    \n    setFilterLoading(true);\n    \n    // Use setTimeout to prevent UI blocking for large datasets\n    setTimeout(() => {\n      const filtered = data.filter(row => \n        row.projectid && row.projectid.toString() === projectId.toString()\n      );\n      setFilteredData(filtered);\n      setFilterLoading(false);\n    }, 0);\n  }, []);\n\n  // Handle project selection\n  const handleProjectFilter = useCallback((projectId) => {\n    setSelectedProject(projectId);\n    if (projectId) {\n      filterDataByProject(fullDataset, projectId);\n    } else {\n      setFilteredData(fullDataset);\n    }\n  }, [fullDataset, filterDataByProject]);\n\n  // Handle filter reset\n  const handleFilterReset = useCallback(() => {\n    setSelectedProject(null);\n    setFilteredData(fullDataset);\n  }, [fullDataset]);\n\n  // Memoized current data (either filtered or full dataset)\n  const currentData = useMemo(() => {\n    return selectedProject ? filteredData : fullDataset;\n  }, [selectedProject, filteredData, fullDataset]);\n\n  // Always show only the first and last 5 rows of the currently filtered data\n  const previewRows = useMemo(() => {\n    if (!currentData || currentData.length === 0) return [];\n    \n    if (currentData.length <= 10) {\n      return currentData;\n    }\n    \n    const first5 = currentData.slice(0, 5);\n    const last5 = currentData.slice(-5);\n    return [...first5, ...last5];\n  }, [currentData]);\n\n  const onDrop = async (acceptedFiles) => {\n    if (acceptedFiles.length === 0) return;\n\n    const file = acceptedFiles[0];\n    setLoading(true);\n    setError(null);\n\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const response = await axios.post('/api/upload_uuid', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      \n      // Cache the full dataset for filtering (all rows)\n      setFullDataset(response.data.full_dataset);\n      setFilteredData(response.data.full_dataset);\n      \n      // Extract available projects from the full dataset\n      const projects = extractProjects(response.data.full_dataset);\n      setAvailableProjects(projects);\n      \n      setFileData({\n        filename: response.data.filename,\n        preview: response.data.preview,  // Keep preview for display\n        originalName: file.name,\n      });\n      setFileInfo(response.data.file_info);\n      setShowPreview(true);\n      \n      // Reset filter state\n      setSelectedProject(null);\n      \n      console.log('Uploaded fileData:', {\n        filename: response.data.filename,\n        previewRows: response.data.preview.length,\n        fullDatasetRows: response.data.full_dataset.length,\n        originalName: file.name,\n        fileInfo: response.data.file_info,\n        availableProjects: projects,\n      });\n    } catch (error) {\n      setError(error.response?.data?.error || 'Error uploading file');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'text/csv': ['.csv'],\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': ['.xlsx'],\n      'application/vnd.ms-excel': ['.xls'],\n    },\n    multiple: false,\n  });\n\n  const generatePredictions = async () => {\n    if (!fileData) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.post('/api/predict_workflow', {\n        filename: fileData.filename,\n      });\n      \n      // Cache the full prediction dataset for filtering (all rows)\n      const fullPredictionData = response.data.full_dataset;\n      setFullDataset(fullPredictionData);\n      setFilteredData(fullPredictionData);\n      \n      // Re-extract projects from prediction data (in case preprocessing changed project IDs)\n      const projects = extractProjects(fullPredictionData);\n      setAvailableProjects(projects);\n      \n      setPredictions(response.data);\n      setShowPreview(false); // Hide preview after prediction\n      \n      // Reset filter state for prediction results\n      setSelectedProject(null);\n    } catch (error) {\n      setError(error.response?.data?.error || 'Error generating predictions');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const exportResults = async (format) => {\n    if (!predictions) return;\n\n    try {\n      if (format === 'json') {\n        const response = await axios.get(`/api/export/${format}/${predictions.results_filename}`);\n        const blob = new Blob([JSON.stringify(response.data, null, 2)], {\n          type: 'application/json',\n        });\n        saveAs(blob, `predictions_${fileData.filename.split('.')[0]}.json`);\n      } else {\n        const response = await axios.get(`/api/export/${format}/${predictions.results_filename}`, {\n          responseType: 'blob',\n        });\n        const extension = format === 'csv' ? 'csv' : 'xlsx';\n        saveAs(response.data, `predictions_${fileData.filename.split('.')[0]}.${extension}`);\n      }\n    } catch (error) {\n      setError('Error exporting results');\n    }\n  };\n\n  const cleanup = async () => {\n    setFileData(null);\n    setPredictions(null);\n    setFileInfo(null);\n    setError(null);\n    setShowPreview(true);\n    \n    // Reset filter state\n    setSelectedProject(null);\n    setAvailableProjects([]);\n    setFullDataset(null);\n    setFilteredData(null);\n    setFilterLoading(false);\n  };\n\n  const renderPreviewTable = (data, title) => {\n    if (!data || data.length === 0) return null;\n    \n    let columns = Object.keys(data[0]);\n    if (columns.includes('has_booked_prediction')) {\n      columns = columns.filter(c => c !== 'has_booked_prediction').concat(['has_booked_prediction']);\n    }\n    \n    return (\n      <Card className=\"mb-4\">\n        <Card.Header>\n          <h5 className=\"mb-0\">\n            {title}\n            {filterLoading && (\n              <Spinner animation=\"border\" size=\"sm\" className=\"ms-2\" />\n            )}\n          </h5>\n        </Card.Header>\n        <Card.Body className=\"p-0\">\n          <div className=\"table-responsive\">\n            <table className=\"table table-striped table-hover mb-0\">\n              <thead className=\"table-primary\">\n                <tr>\n                  {columns.map((column) => (\n                    <th key={column}>{column}</th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody>\n                {data.map((row, index) => (\n                  <tr key={index}>\n                    {columns.map((column) => (\n                      <td key={column}>\n                        {typeof row[column] === 'boolean' \n                          ? (row[column] ? 'Yes' : 'No')\n                          : row[column]?.toString() || ''}\n                      </td>\n                    ))}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </Card.Body>\n      </Card>\n    );\n  };\n\n  const renderFileRetentionInfo = () => {\n    if (!fileInfo) return null;\n\n    const uploadDate = new Date(fileInfo.upload_timestamp);\n    const deletionDate = new Date(fileInfo.deletion_date);\n    const daysLeft = Math.ceil((deletionDate - new Date()) / (1000 * 60 * 60 * 24));\n\n    return (\n      <Card className=\"mb-4\">\n        <Card.Header>\n          <h5 className=\"mb-0\">\n            <FiClock className=\"me-2\" />\n            File Retention Information\n          </h5>\n        </Card.Header>\n        <Card.Body>\n          <Row>\n            <Col md={6}>\n              <p><strong>Upload Time:</strong> {uploadDate.toLocaleString()}</p>\n              <p><strong>Deletion Date:</strong> {deletionDate.toLocaleString()}</p>\n            </Col>\n            <Col md={6}>\n              <p><strong>Days Remaining:</strong> \n                <Badge \n                  bg={daysLeft > 30 ? 'success' : daysLeft > 7 ? 'warning' : 'danger'}\n                  className=\"ms-2\"\n                >\n                  {daysLeft} days\n                </Badge>\n              </p>\n              <p><strong>Status:</strong> \n                <Badge bg=\"info\" className=\"ms-2\">{fileInfo.status}</Badge>\n              </p>\n            </Col>\n          </Row>\n        </Card.Body>\n      </Card>\n    );\n  };\n\n  const renderStorageStats = () => {\n    if (!storageStats) return null;\n\n    return (\n      <Card className=\"mb-4\">\n        <Card.Header>\n          <h5 className=\"mb-0\">\n            <FiInfo className=\"me-2\" />\n            Storage Statistics\n          </h5>\n        </Card.Header>\n        <Card.Body>\n          <Row>\n            <Col md={3}>\n              <div className=\"text-center\">\n                <div className=\"stats-number text-primary\">{storageStats.total_files}</div>\n                <div className=\"text-muted\">Total Files</div>\n              </div>\n            </Col>\n            <Col md={3}>\n              <div className=\"text-center\">\n                <div className=\"stats-number text-info\">{storageStats.total_size_mb} MB</div>\n                <div className=\"text-muted\">Total Size</div>\n              </div>\n            </Col>\n            <Col md={3}>\n              <div className=\"text-center\">\n                <div className=\"stats-number text-success\">{storageStats.retention_days}</div>\n                <div className=\"text-muted\">Retention Days</div>\n              </div>\n            </Col>\n            <Col md={3}>\n              <div className=\"text-center\">\n                <Button \n                  variant=\"outline-secondary\" \n                  size=\"sm\"\n                  onClick={fetchStorageStats}\n                >\n                  <FiInfo className=\"me-1\" />\n                  Refresh\n                </Button>\n              </div>\n            </Col>\n          </Row>\n        </Card.Body>\n      </Card>\n    );\n  };\n\n  return (\n    <Container fluid className=\"upload-container\">\n      <button\n        className=\"theme-toggle\"\n        onClick={() => setDarkMode((dm) => !dm)}\n        title={darkMode ? 'Switch to Light Mode' : 'Switch to Dark Mode'}\n      >\n        {darkMode ? <FiMoon /> : <FiSun />}\n      </button>\n      <Row className=\"justify-content-center\">\n        <Col lg={10}>\n          <div className=\"text-center mb-4\">\n            <h1 className=\"display-4 text-primary\">ML Prediction System</h1>\n            <p className=\"lead text-muted\">\n              Upload your CSV or Excel files to get predictions using our pre-trained models\n            </p>\n          </div>\n\n          {error && (\n            <Alert variant=\"danger\" dismissible onClose={() => setError(null)}>\n              {error}\n            </Alert>\n          )}\n\n          {!fileData && (\n            <Card>\n              <Card.Body>\n                <div\n                  {...getRootProps()}\n                  className={`upload-area ${isDragActive ? 'dragover' : ''}`}\n                >\n                  <input {...getInputProps()} />\n                  <FiUpload size={48} className=\"text-primary mb-3\" />\n                  <h4>Drop your file here, or click to select</h4>\n                  <p className=\"text-muted\">\n                    Supports CSV and Excel files (max 100,000 rows) - Files are automatically converted to CSV for faster processing\n                  </p>\n                  <p className=\"text-muted small\">\n                    File must contain a \"projectid\" column\n                  </p>\n                </div>\n              </Card.Body>\n            </Card>\n          )}\n\n          {loading && (\n            <div className=\"loading-spinner\">\n              <div className=\"text-center\">\n                <Spinner animation=\"border\" role=\"status\" className=\"mb-3\">\n                  <span className=\"visually-hidden\">Loading...</span>\n                </Spinner>\n                <p>Processing your file...</p>\n              </div>\n            </div>\n          )}\n\n          {fileData && !loading && showPreview && (\n            <>\n              <Card className=\"mb-4\">\n                <Card.Header>\n                  <h5 className=\"mb-0\">File Information</h5>\n                </Card.Header>\n                <Card.Body>\n                  <Row>\n                    <Col md={6}>\n                      <p><strong>Filename:</strong> {fileData.originalName || fileData.filename}</p>\n                    </Col>\n                    <Col md={6}>\n                      <Button\n                        variant=\"primary\"\n                        onClick={generatePredictions}\n                        disabled={loading || !fileData}\n                        className=\"me-2\"\n                      >\n                        <FiDatabase className=\"me-2\" />\n                        Generate Predictions\n                      </Button>\n                      <Button variant=\"outline-secondary\" onClick={cleanup}>\n                        Upload New File\n                      </Button>\n                    </Col>\n                  </Row>\n                </Card.Body>\n              </Card>\n              \n              {/* Project Filters */}\n              <ProjectFilters\n                projects={availableProjects}\n                selectedProject={selectedProject}\n                onSelect={handleProjectFilter}\n                onReset={handleFilterReset}\n                disabled={loading}\n                className=\"mb-4\"\n              />\n              \n              {/* Data Statistics */}\n              <DataStats\n                data={currentData}\n                title={selectedProject ? `Project ${selectedProject} Statistics` : \"Full Dataset Statistics\"}\n                className=\"mb-4\"\n              />\n              \n              {/* Preview Table */}\n              {(!previewRows || previewRows.length === 0) ? (\n                <Alert variant=\"warning\">No preview data available for this file.</Alert>\n              ) : (\n                renderPreviewTable(previewRows, `Data Preview ${selectedProject ? `(Project ${selectedProject})` : '(All Projects)'}`)\n              )}\n            </>\n          )}\n\n          {predictions && !loading && (\n            <>\n              <Card className=\"mb-4\">\n                <Card.Header>\n                  <h5 className=\"mb-0\">Prediction Results</h5>\n                </Card.Header>\n                <Card.Body>\n                  <Row>\n                    <Col md={6}>\n                      <p><strong>Rows Processed:</strong> {predictions.stats?.rows_processed ?? '-'}</p>\n                      <p><strong>Prediction Distribution:</strong> {JSON.stringify(predictions.stats?.prediction_distribution ?? {})}</p>\n                    </Col>\n                  </Row>\n                </Card.Body>\n              </Card>\n              \n              {/* Project Filters for Prediction Results */}\n              <ProjectFilters\n                projects={availableProjects}\n                selectedProject={selectedProject}\n                onSelect={handleProjectFilter}\n                onReset={handleFilterReset}\n                disabled={loading}\n                className=\"mb-4\"\n              />\n              \n              {/* Prediction Data Statistics */}\n              <DataStats\n                data={currentData}\n                title={selectedProject ? `Project ${selectedProject} Prediction Statistics` : \"Full Prediction Statistics\"}\n                className=\"mb-4\"\n              />\n              \n              {/* Final Prediction Preview */}\n              <h5>Final Prediction Preview</h5>\n              {renderPreviewTable(previewRows, `Prediction Results ${selectedProject ? `(Project ${selectedProject})` : '(All Projects)'}`)}\n              \n              <Card>\n                <Card.Header>\n                  <h5 className=\"mb-0\">\n                    <FiDownload className=\"me-2\" />\n                    Export Results\n                  </h5>\n                </Card.Header>\n                <Card.Body>\n                  <div className=\"d-flex flex-wrap gap-2\">\n                    <Button\n                      variant=\"outline-primary\"\n                      onClick={() => exportResults('csv')}\n                      className=\"btn-export\"\n                    >\n                      Export as CSV\n                    </Button>\n                    <Button\n                      variant=\"outline-success\"\n                      onClick={() => exportResults('xlsx')}\n                      className=\"btn-export\"\n                    >\n                      Export as Excel\n                    </Button>\n                    <Button\n                      variant=\"outline-info\"\n                      onClick={() => exportResults('json')}\n                      className=\"btn-export\"\n                    >\n                      Export as JSON\n                    </Button>\n                  </div>\n                </Card.Body>\n              </Card>\n              {/* Upload New File button at the bottom */}\n              <div style={{ display: 'flex', justifyContent: 'center', marginTop: '2rem', marginBottom: '1rem' }}>\n                <Button\n                  variant=\"secondary\"\n                  size=\"lg\"\n                  onClick={cleanup}\n                  style={{ minWidth: 220, fontWeight: 600 }}\n                >\n                  Upload New File\n                </Button>\n              </div>\n            </>\n          )}\n\n          {fileInfo && (\n            <>\n              {renderFileRetentionInfo()}\n              {renderStorageStats()}\n            </>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}