{"ast":null,"code":"import React,{useState,useCallback,useMemo}from'react';import{Badge,Button,Row,Col}from'react-bootstrap';import{FiFilter,FiX}from'react-icons/fi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProjectFilters=_ref=>{let{projects=[],selectedProject,onSelect,onReset,disabled=false,className=''}=_ref;const[focusedIndex,setFocusedIndex]=useState(-1);// Memoize sorted projects for better performance\nconst sortedProjects=useMemo(()=>{return[...projects].sort((a,b)=>{// Sort numerically if possible, otherwise alphabetically\nconst aNum=parseInt(a);const bNum=parseInt(b);if(!isNaN(aNum)&&!isNaN(bNum)){return aNum-bNum;}return a.toString().localeCompare(b.toString());});},[projects]);const handleProjectClick=useCallback(projectId=>{if(disabled)return;if(selectedProject===projectId){onReset();}else{onSelect(projectId);}},[selectedProject,onSelect,onReset,disabled]);const handleKeyDown=useCallback((e,projectId,index)=>{if(disabled)return;switch(e.key){case'Enter':case' ':e.preventDefault();handleProjectClick(projectId);break;case'ArrowRight':e.preventDefault();setFocusedIndex(Math.min(index+1,sortedProjects.length-1));break;case'ArrowLeft':e.preventDefault();setFocusedIndex(Math.max(index-1,0));break;case'Home':e.preventDefault();setFocusedIndex(0);break;case'End':e.preventDefault();setFocusedIndex(sortedProjects.length-1);break;case'Escape':e.preventDefault();onReset();setFocusedIndex(-1);break;}},[handleProjectClick,sortedProjects.length,onReset,disabled]);const handleResetClick=useCallback(()=>{if(disabled)return;onReset();setFocusedIndex(-1);},[onReset,disabled]);if(sortedProjects.length===0){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"project-filters \".concat(className),children:[/*#__PURE__*/_jsx(\"div\",{className:\"filter-header mb-3\",children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(FiFilter,{className:\"me-2\"}),\"Filter by Project\",selectedProject&&/*#__PURE__*/_jsx(Badge,{bg:\"primary\",className:\"ms-2\",children:selectedProject})]}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:selectedProject?\"Showing data for Project \".concat(selectedProject):\"Showing all \".concat(sortedProjects.length,\" projects\")})]}),/*#__PURE__*/_jsx(Col,{xs:\"auto\",children:/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",size:\"sm\",onClick:handleResetClick,disabled:disabled||!selectedProject,className:\"reset-btn\",children:[/*#__PURE__*/_jsx(FiX,{className:\"me-1\"}),\"Show All\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-chips\",children:sortedProjects.map((projectId,index)=>{const isSelected=selectedProject===projectId;const isFocused=focusedIndex===index;return/*#__PURE__*/_jsxs(Badge,{bg:isSelected?'primary':'light',text:isSelected?'white':'dark',className:\"project-chip \".concat(isSelected?'selected':'',\" \").concat(isFocused?'focused':''),onClick:()=>handleProjectClick(projectId),onKeyDown:e=>handleKeyDown(e,projectId,index),tabIndex:0,role:\"button\",\"aria-pressed\":isSelected,\"aria-label\":\"Filter by Project \".concat(projectId),disabled:disabled,children:[\"Project \",projectId,isSelected&&/*#__PURE__*/_jsx(FiX,{className:\"ms-1\"})]},projectId);})}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-info mt-2\",children:/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Use arrow keys to navigate, Enter to select, Escape to reset\"})})]});};export default ProjectFilters;","map":{"version":3,"names":["React","useState","useCallback","useMemo","Badge","Button","Row","Col","FiFilter","FiX","jsx","_jsx","jsxs","_jsxs","ProjectFilters","_ref","projects","selectedProject","onSelect","onReset","disabled","className","focusedIndex","setFocusedIndex","sortedProjects","sort","a","b","aNum","parseInt","bNum","isNaN","toString","localeCompare","handleProjectClick","projectId","handleKeyDown","e","index","key","preventDefault","Math","min","length","max","handleResetClick","concat","children","bg","xs","variant","size","onClick","map","isSelected","isFocused","text","onKeyDown","tabIndex","role"],"sources":["C:/Users/Khang Vinh Khac/Documents/web_dev/frontend/src/components/ProjectFilters.js"],"sourcesContent":["import React, { useState, useCallback, useMemo } from 'react';\r\nimport { Badge, Button, Row, Col } from 'react-bootstrap';\r\nimport { FiFilter, FiX } from 'react-icons/fi';\r\n\r\nconst ProjectFilters = ({ \r\n  projects = [], \r\n  selectedProject, \r\n  onSelect, \r\n  onReset, \r\n  disabled = false,\r\n  className = '' \r\n}) => {\r\n  const [focusedIndex, setFocusedIndex] = useState(-1);\r\n\r\n  // Memoize sorted projects for better performance\r\n  const sortedProjects = useMemo(() => {\r\n    return [...projects].sort((a, b) => {\r\n      // Sort numerically if possible, otherwise alphabetically\r\n      const aNum = parseInt(a);\r\n      const bNum = parseInt(b);\r\n      if (!isNaN(aNum) && !isNaN(bNum)) {\r\n        return aNum - bNum;\r\n      }\r\n      return a.toString().localeCompare(b.toString());\r\n    });\r\n  }, [projects]);\r\n\r\n  const handleProjectClick = useCallback((projectId) => {\r\n    if (disabled) return;\r\n    \r\n    if (selectedProject === projectId) {\r\n      onReset();\r\n    } else {\r\n      onSelect(projectId);\r\n    }\r\n  }, [selectedProject, onSelect, onReset, disabled]);\r\n\r\n  const handleKeyDown = useCallback((e, projectId, index) => {\r\n    if (disabled) return;\r\n\r\n    switch (e.key) {\r\n      case 'Enter':\r\n      case ' ':\r\n        e.preventDefault();\r\n        handleProjectClick(projectId);\r\n        break;\r\n      case 'ArrowRight':\r\n        e.preventDefault();\r\n        setFocusedIndex(Math.min(index + 1, sortedProjects.length - 1));\r\n        break;\r\n      case 'ArrowLeft':\r\n        e.preventDefault();\r\n        setFocusedIndex(Math.max(index - 1, 0));\r\n        break;\r\n      case 'Home':\r\n        e.preventDefault();\r\n        setFocusedIndex(0);\r\n        break;\r\n      case 'End':\r\n        e.preventDefault();\r\n        setFocusedIndex(sortedProjects.length - 1);\r\n        break;\r\n      case 'Escape':\r\n        e.preventDefault();\r\n        onReset();\r\n        setFocusedIndex(-1);\r\n        break;\r\n    }\r\n  }, [handleProjectClick, sortedProjects.length, onReset, disabled]);\r\n\r\n  const handleResetClick = useCallback(() => {\r\n    if (disabled) return;\r\n    onReset();\r\n    setFocusedIndex(-1);\r\n  }, [onReset, disabled]);\r\n\r\n  if (sortedProjects.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={`project-filters ${className}`}>\r\n      <div className=\"filter-header mb-3\">\r\n        <Row className=\"align-items-center\">\r\n          <Col>\r\n            <h6 className=\"mb-0\">\r\n              <FiFilter className=\"me-2\" />\r\n              Filter by Project\r\n              {selectedProject && (\r\n                <Badge bg=\"primary\" className=\"ms-2\">\r\n                  {selectedProject}\r\n                </Badge>\r\n              )}\r\n            </h6>\r\n            <small className=\"text-muted\">\r\n              {selectedProject \r\n                ? `Showing data for Project ${selectedProject}`\r\n                : `Showing all ${sortedProjects.length} projects`\r\n              }\r\n            </small>\r\n          </Col>\r\n          <Col xs=\"auto\">\r\n            <Button\r\n              variant=\"outline-secondary\"\r\n              size=\"sm\"\r\n              onClick={handleResetClick}\r\n              disabled={disabled || !selectedProject}\r\n              className=\"reset-btn\"\r\n            >\r\n              <FiX className=\"me-1\" />\r\n              Show All\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n\r\n      <div className=\"filter-chips\">\r\n        {sortedProjects.map((projectId, index) => {\r\n          const isSelected = selectedProject === projectId;\r\n          const isFocused = focusedIndex === index;\r\n          \r\n          return (\r\n            <Badge\r\n              key={projectId}\r\n              bg={isSelected ? 'primary' : 'light'}\r\n              text={isSelected ? 'white' : 'dark'}\r\n              className={`project-chip ${isSelected ? 'selected' : ''} ${isFocused ? 'focused' : ''}`}\r\n              onClick={() => handleProjectClick(projectId)}\r\n              onKeyDown={(e) => handleKeyDown(e, projectId, index)}\r\n              tabIndex={0}\r\n              role=\"button\"\r\n              aria-pressed={isSelected}\r\n              aria-label={`Filter by Project ${projectId}`}\r\n              disabled={disabled}\r\n            >\r\n              Project {projectId}\r\n              {isSelected && <FiX className=\"ms-1\" />}\r\n            </Badge>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className=\"filter-info mt-2\">\r\n        <small className=\"text-muted\">\r\n          Use arrow keys to navigate, Enter to select, Escape to reset\r\n        </small>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectFilters; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}